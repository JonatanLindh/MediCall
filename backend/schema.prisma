datasource db {
  provider = "sqlite"
  url      = "file:dev.db"
}

generator py {
  provider             = "prisma-client-py"
  recursive_type_depth = 5
}

model Doctor {
  id        String @id @default(cuid())
  firstName String
  lastName  String

  email         String @unique
  password_hash Bytes

  latitude  Float?
  longitude Float?
  Report    Report[]
}

model Patient {
  id        String @id @default(cuid())
  firstName String
  lastName  String

  email         String   @unique
  password_hash Bytes
  Report        Report[]
}

model Report {
  id String @id @default(cuid())

  patientId String
  doctorId  String?

  description String
  status      String
  completed   Boolean @default(false)
  time        String  @default("00:00")

  patient Patient @relation(fields: [patientId], references: [id])
  doctor  Doctor? @relation(fields: [doctorId], references: [id])
}
